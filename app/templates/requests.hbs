{{page-title "Requests"}}

<AuDataTable
  @content={{this.model.requests}}
  @page={{this.page}}
  @fields="title description"
  @noDataMessage="Geen aanvragen"
  @sort={{this.sort}}
  as |t|
>
  <t.menu as |menu|>
    <menu.general>
      <AuToolbar class="au-o-box--small" as |Group|>
        <Group>
          <AuHeading @skin="4">
            Aanvragen
          </AuHeading>
        </Group>
        <Group class="au-c-toolbar__group--center">
          <AuButton @skin="secondary" @icon="filter">Filter aanvragen</AuButton>
          <AuButton>
            Nieuwe aanvraag
          </AuButton>
        </Group>
      </AuToolbar>
    </menu.general>
  </t.menu>
  <t.content as |c|>
    <c.header>
      <AuDataTableThSortable
        @field="title"
        @currentSorting={{this.sort}}
        @label="Titel aanvraag"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="description"
        @currentSorting={{this.sort}}
        @label="Datum aanvraag"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="description"
        @currentSorting={{this.sort}}
        @label="Status"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="description"
        @currentSorting={{this.sort}}
        @label="Beheerd door"
        @class="data-table__header-title"
      />
      <AuDataTableThSortable
        @field="description"
        @currentSorting={{this.sort}}
        @label="Laatst gewijzigd"
        @class="data-table__header-title"
      />
    </c.header>
    <c.body as |row|>
      <td>{{row.designationObject.locationElementParcel.name}}</td>
      <td>{{row.submittedOn}}</td>
      <td><AuPill
          @skin={{this.getPillSkin row.status}}
          @icon={{this.getPillIcon row.status}}
        >{{this.getPillText row.status}}</AuPill></td>
      <td>{{this.currentSession}}</td>
      <td>{{row.modifiedOn}}</td>
    </c.body>
  </t.content>
</AuDataTable>